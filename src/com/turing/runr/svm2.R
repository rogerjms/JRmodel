Args <- commandArgs()
set.seed(1234)
suppressWarnings(library("kernlab"))
suppressWarnings(library(e1071))
data<-read.csv("c:\\clean.csv",head = TRUE)
svmfit <- ksvm (是否为高血压~ ., data = data,type="C-svc",kernel="laplacedot",dpar=list(sigma=0.001),C=10,cross=10,prob.model=TRUE)
test=data.frame(身高=as.numeric(Args[6]),体重=as.numeric(Args[7]),腰围=as.numeric(Args[8]),性别=as.numeric(Args[9]),年龄=as.numeric(Args[10]),民族=as.numeric(Args[11]),您在北京居住时间是否超过15年=as.numeric(Args[12]),婚姻状况=as.numeric(Args[13]),职业=as.numeric(Args[14]),文化程度=as.numeric(Args[15]),医药费报销方式=as.numeric(Args[16]),现在吸烟情况=as.numeric(Args[17]),现在平均每天吸烟量=as.numeric(Args[18]),饮酒情况=as.numeric(Args[19]),白酒=as.numeric(Args[20]),啤酒=as.numeric(Args[21]),红酒=as.numeric(Args[22]),饮酒量=as.numeric(Args[23]),平均饮酒频率=as.numeric(Args[24]),高血压家族史=as.numeric(Args[25]),糖尿病家族史=as.numeric(Args[26]),冠心病家族史=as.numeric(Args[27]),急性心肌梗死家族史=as.numeric(Args[28]),脑卒中家族史=as.numeric(Args[29]),高血压病史=as.numeric(Args[30]),患高血压年限=as.numeric(Args[31]),有几种高血压并发症=as.numeric(Args[32]),最近两周服药情况=as.numeric(Args[33]),血脂异常情况=as.numeric(Args[34]),脂肪肝情况=as.numeric(Args[35]),患心肌梗死情况=as.numeric(Args[36]),患脑卒中情况=as.numeric(Args[37]),是否经常体育锻炼=as.numeric(Args[38]),每次运动持续时间=as.numeric(Args[39]),每周20分钟以上运动次数=as.numeric(Args[40]),臀围=as.numeric(Args[41]),心率=as.numeric(Args[42]),心电图Sv1=as.numeric(Args[43]),心电图Rv5=as.numeric(Args[44]),谷丙转氨酶=as.numeric(Args[45]),尿素=as.numeric(Args[46]),血糖=as.numeric(Args[47]),甘油三酯=as.numeric(Args[48]),高密度脂蛋白胆固醇=as.numeric(Args[49]),糖化血红蛋白=as.numeric(Args[50]),c反应蛋白=as.numeric(Args[51]),肌酸激酶=as.numeric(Args[52]),乳酸脱氢酶=as.numeric(Args[53]),钠=as.numeric(Args[54]),镁=as.numeric(Args[55]),谷草转氨酶=as.numeric(Args[56]),肌酐=as.numeric(Args[57]),总胆固醇=as.numeric(Args[58]),低密度脂蛋白胆固醇=as.numeric(Args[59]),同型半胱氨酸=as.numeric(Args[60]),尿酸=as.numeric(Args[61]),rs11064524=as.numeric(Args[62]),rs3772616=as.numeric(Args[63]),rs275649=as.numeric(Args[64]),rs17030613=as.numeric(Args[65]),rs3736556=as.numeric(Args[66]),rs2638360=as.numeric(Args[67]),rs4980974=as.numeric(Args[68]),rs5194=as.numeric(Args[69]),rs4757391=as.numeric(Args[70]),rs5193=as.numeric(Args[71]),rs11608756=as.numeric(Args[72]),rs2131127=as.numeric(Args[73]),rs7305099=as.numeric(Args[74]),rs880054=as.numeric(Args[75]),rs12828016=as.numeric(Args[76]),rs2051852=as.numeric(Args[77]),rs4980973=as.numeric(Args[78]),rs820430=as.numeric(Args[79]),rs10849558=as.numeric(Args[80]),rs388915=as.numeric(Args[81]),rs5186=as.numeric(Args[82]),rs11067763=as.numeric(Args[83]),rs10774461=as.numeric(Args[84]),rs4409766=as.numeric(Args[85]),rs1492100=as.numeric(Args[86]),rs11611231=as.numeric(Args[87]),rs2074192=as.numeric(Args[88]),rs13143871=as.numeric(Args[89]),rs35444=as.numeric(Args[90]),rs1191548=as.numeric(Args[91]),rs4838825=as.numeric(Args[92]),rs5182=as.numeric(Args[93]),rs11066280=as.numeric(Args[94]),rs1887320=as.numeric(Args[95]),rs956868=as.numeric(Args[96]),rs17249754=as.numeric(Args[97]),rs2106809=as.numeric(Args[98]),rs1991391=as.numeric(Args[99]),rs16849255=as.numeric(Args[100]),rs1902859=as.numeric(Args[101]),rs1800766=as.numeric(Args[102]),rs7972490=as.numeric(Args[103]),rs9426748=as.numeric(Args[104]),rs7079=as.numeric(Args[105]),rs5370=as.numeric(Args[106]),rs6632677=as.numeric(Args[107]),rs1630736=as.numeric(Args[108]),rs9810888=as.numeric(Args[109]),rs1173766=as.numeric(Args[110]),rs11571078=as.numeric(Args[111]),rs3820189=as.numeric(Args[112]),rs3753579=as.numeric(Args[113]),rs1042717=as.numeric(Args[114]),rs17037564=as.numeric(Args[115]),rs1042719=as.numeric(Args[116]),rs3802228=as.numeric(Args[117]),rs10088365=as.numeric(Args[118]),rs11240688=as.numeric(Args[119]),rs6693954=as.numeric(Args[120]),rs1042713=as.numeric(Args[121]),rs3889728=as.numeric(Args[122]),rs11568023=as.numeric(Args[123]),rs2774028=as.numeric(Args[124]),rs11122575=as.numeric(Args[125]),rs2336384=as.numeric(Args[126]),rs2295281=as.numeric(Args[127]),rs7539020=as.numeric(Args[128]),rs1464816=as.numeric(Args[129]),rs2236058=as.numeric(Args[130]),rs212515=as.numeric(Args[131]),rs3827750=as.numeric(Args[132]),rs2076283=as.numeric(Args[133]),rs1042714=as.numeric(Args[134]),rs4461142=as.numeric(Args[135]),rs2236847=as.numeric(Args[136]),rs2236057=as.numeric(Args[137]),rs115071=as.numeric(Args[138]),rs212544=as.numeric(Args[139]),rs11590928=as.numeric(Args[140]),rs1799998=as.numeric(Args[141]),rs2076280=as.numeric(Args[142]),rs2282715=as.numeric(Args[143]),rs3766741=as.numeric(Args[144]),rs2493132=as.numeric(Args[145]),rs2478523=as.numeric(Args[146]),rs6433=as.numeric(Args[147]),rs2478545=as.numeric(Args[148]),rs699=as.numeric(Args[149]),rs4344=as.numeric(Args[150]),rs880315=as.numeric(Args[151]),rs5050=as.numeric(Args[152]),rs4762=as.numeric(Args[153]),rs3789671=as.numeric(Args[154]),rs4994=as.numeric(Args[155]),rs6801836=as.numeric(Args[156]),rs10774457=as.numeric(Args[157]),rs6825911=as.numeric(Args[158]),rs11658531=as.numeric(Args[159]))
pred<-predict(svmfit,test,type="probabilities")
output<-round(pred[,2],3)
output<-paste("您患高血压的风险为",output*100,"%",sep="")
output[1]